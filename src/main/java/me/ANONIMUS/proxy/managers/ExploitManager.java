package me.ANONIMUS.proxy.managers;

import me.ANONIMUS.proxy.objects.Exploit;
import org.reflections.Reflections;

import java.util.ArrayList;
import java.util.List;

public class ExploitManager {
    public ExploitManager() {
        new Reflections("me.ANONIMUS.proxy.exploits").getSubTypesOf(Exploit.class).forEach(exploit -> {
            try {
                exploits.add(exploit.newInstance());
            } catch (InstantiationException | IllegalAccessException e) {
                e.printStackTrace();
            }
        });
    }

    private final List<Exploit> exploits = new ArrayList<>();

    public void addExploit(Exploit exploit) {
        this.exploits.add(exploit);
    }

    public List<Exploit> getExploits() {
        return this.exploits;
    }


    public Exploit findExploit(String name) {
        return this.exploits.stream().filter(exploit -> exploit.getName().equalsIgnoreCase(name)).findFirst().orElse(null);
    }
}